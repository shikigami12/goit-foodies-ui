<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Foodies - Redirecting...</title>
    <script>
      // GitHub Pages SPA redirect solution
      // Prevent infinite loops by checking if we've already attempted a redirect
      (function() {
        var redirectAttempts = sessionStorage.getItem('redirectAttempts') || 0;

        if (redirectAttempts > 2) {
          // Too many redirect attempts, clear and stop
          sessionStorage.removeItem('redirectAttempts');
          sessionStorage.removeItem('redirect');
          return;
        }

        var path = location.pathname + location.search + location.hash;

        // Only redirect if we're not already at root and path is not just '/'
        if (location.pathname !== '/' && path !== '/') {
          sessionStorage.setItem('redirect', path);
          sessionStorage.setItem('redirectAttempts', parseInt(redirectAttempts) + 1);
          location.replace(location.origin + '/');
        }
      })();
    </script>
  </head>
  <body>
    <p>Redirecting...</p>
  </body>
</html>
